import csv
import numpy as np
from PIL import Image

# Open the CSV file
with open('file_name.csv', 'r') as file: 
    # Create a CSV reader object
    reader = csv.reader(file)
    next(reader)
    # Iterate over each row in the CSV file
    c=1
    for row in reader:
      # Process the row as needed
      s= row[-1]
      s =s+str(c) + ".jpg"
      row.pop()
      rows=(np.asarray(row, dtype='float64')).flatten()
      m = rows.reshape(8, 8)
      a= np.ones((100,8))
      a1=(np.asarray(a, dtype='float64')).flatten()
      a2 = a1.reshape(100, 8)
      b= np.ones((8,100))
      b1=(np.asarray(b, dtype='float64')).flatten()
      b2 = b1.reshape(8, 100)
      m= a2@m
      m= m@b2
      print(m)
      image = Image.fromarray(m, mode='L')
      image.save(s)
      c=c+1
